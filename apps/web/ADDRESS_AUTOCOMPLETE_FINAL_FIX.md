# ๐ง ุงูุฅุตูุงุญ ุงูููุงุฆู ููุดููุฉ ุงูููุฑ ุงููุฒุฏูุฌ ูู AddressAutocomplete

## ุงููุดููุฉ ุงููุณุชูุฑุฉ

ุจุนุฏ ุงูุฅุตูุงุญุงุช ุงูุณุงุจูุฉุ ูุง ุชุฒุงู ูุดููุฉ ุงูููุฑ ุงููุฒุฏูุฌ ููุฌูุฏุฉ ูู `AddressAutocomplete`.

## ุณุจุจ ุงููุดููุฉ ุงูุฌุฐุฑู

ุงููุดููุฉ ุชููู ูู ุชุฏุงุฎู ุฃุญุฏุงุซ ุงูุชุฑููุฒ (`focus/blur`) ูุน ุฃุญุฏุงุซ ุงูููุฑ. ุนูุฏูุง ูููุฑ ุงููุณุชุฎุฏู ุนูู ุนูุตุฑ ูู ุงููุงุฆูุฉ:

1. ูุญุฏุซ `onMouseDown` ุนูู ุงูุนูุตุฑ
2. ูุญุฏุซ `onBlur` ุนูู ุญูู ุงูุฅุฏุฎุงู
3. ูุชู ุฅุบูุงู ุงููุงุฆูุฉ ูุจู ุงูุชูุงู ุนูููุฉ ุงูุงุฎุชูุงุฑ
4. ูุญุชุงุฌ ุงููุณุชุฎุฏู ููููุฑ ูุฑุฉ ุฃุฎุฑู

## ุงูุฅุตูุงุญ ุงูููุงุฆู ุงููุทุจู

### 1. ุชุญุณูู ูุนุงูุฌ ุงูููุฑ

**ูุจู ุงูุฅุตูุงุญ:**

```typescript
onClick={(e) => {
  e.preventDefault();
  selectItem(i);
}}
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**

```typescript
onMouseDown={(e) => {
  e.preventDefault();
  e.stopPropagation();
  selectItem(i);
}}
```

### 2. ุชุญุณูู ุชุฑุชูุจ ุงูุนูููุงุช ูู selectItem

**ูุจู ุงูุฅุตูุงุญ:**

```typescript
const selectItem = (idx: number) => {
  // ... process data ...

  onChange(item.label);
  onSelect(sel);
  setOpen(false); // Close menu last
};
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**

```typescript
const selectItem = (idx: number) => {
  // ... process data ...

  // Close menu first to prevent any focus issues
  setOpen(false);

  // Update value and trigger selection
  onChange(item.label);
  onSelect(sel);
};
```

### 3. ุฅุถุงูุฉ ูุนุงูุฌ onBlur ูุญุณู

**ูุจู ุงูุฅุตูุงุญ:**

```typescript
<input
  // ... other props ...
  onFocus={() => items.length && setOpen(true)}
  // No onBlur handler
/>
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**

```typescript
<input
  // ... other props ...
  onFocus={() => items.length && setOpen(true)}
  onBlur={() => {
    // Delay closing to allow for item selection
    setTimeout(() => setOpen(false), 150);
  }}
/>
```

### 4. ุชุญุณูู ูุนุงูุฌ onKeyDown

**ูุจู ุงูุฅุตูุงุญ:**

```typescript
onKeyDown={(e) => {
  if (e.key === "ArrowDown") {
    setActiveIndex((i) => Math.min(i + 1, items.length - 1));
  } else if (e.key === "ArrowUp") {
    setActiveIndex((i) => Math.max(i - 1, 0));
  } else if (e.key === "Enter") {
    e.preventDefault();
    selectItem(activeIndex);
  }
}}
```

**ุจุนุฏ ุงูุฅุตูุงุญ:**

```typescript
onKeyDown={(e) => {
  if (e.key === "ArrowDown") {
    e.preventDefault();
    setActiveIndex((i) => Math.min(i + 1, items.length - 1));
  } else if (e.key === "ArrowUp") {
    e.preventDefault();
    setActiveIndex((i) => Math.max(i - 1, 0));
  } else if (e.key === "Enter") {
    e.preventDefault();
    selectItem(activeIndex);
  }
}}
```

## ุงููุฒุงูุง ุงููุญููุฉ ูู ุงูุฅุตูุงุญ ุงูููุงุฆู

### โ **ุฅุตูุงุญ ุงูููุฑ ุงููุฒุฏูุฌ:**

- ุงุณุชุฎุฏุงู `onMouseDown` ุจุฏูุงู ูู `onClick` ูุชุฌูุจ ุชุฏุงุฎู ุงูุฃุญุฏุงุซ
- ุฅุถุงูุฉ `stopPropagation()` ูููุน ุงูุชุดุงุฑ ุงูุญุฏุซ
- ุฅุบูุงู ุงููุงุฆูุฉ ูุจู ุชุญุฏูุซ ุงููููุฉ ูุชุฌูุจ ูุดุงูู ุงูุชุฑููุฒ

### โ **ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:**

- ุชุฃุฎูุฑ ุฅุบูุงู ุงููุงุฆูุฉ ุจู 150ms ููุณูุงุญ ุจุงุฎุชูุงุฑ ุงูุนูุตุฑ
- ููุน ุงูุณููู ุงูุงูุชุฑุงุถู ูุฃุฒุฑุงุฑ ุงูุฃุณูู
- ุชุญุณูู ุชุฑุชูุจ ุงูุนูููุงุช

### โ **ุงุณุชูุฑุงุฑ ุงููููู:**

- ุชุฌูุจ ุชุฏุงุฎู ุฃุญุฏุงุซ ุงูุชุฑููุฒ ูุงูููุฑ
- ูุนุงูุฌุฉ ุฃูุถู ูุญุงูุงุช ุงูุญุงูุฉ
- ููุฏ ุฃูุซุฑ ููุซูููุฉ

## ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. **ุงุฎุชุจุงุฑ ุงูููุฑ ุงููุฒุฏูุฌ:**

1. ุงูุชูู ุฅูู `/booking`
2. ุงูุชุจ ุนููุงู ูู ุญูู ุงูุจุญุซ
3. ุงููุฑ ูุฑุฉ ูุงุญุฏุฉ ุนูู ุนููุงู ูู ุงูุงูุชุฑุงุญุงุช
4. ุชุญูู ูู ุฃู ุงูุนููุงู ุชู ุงุฎุชูุงุฑู ูุจุงุดุฑุฉ ุจุฏูู ุงูุญุงุฌุฉ ููููุฑ ูุฑุฉ ุฃุฎุฑู

### 2. **ุงุฎุชุจุงุฑ ุงูุชููู ุจุงูููุจูุฑุฏ:**

1. ุงูุชุจ ุนููุงู ูู ุญูู ุงูุจุญุซ
2. ุงุณุชุฎุฏู ุฃุฒุฑุงุฑ ุงูุฃุณูู ููุชููู ุจูู ุงูุงูุชุฑุงุญุงุช
3. ุงุถุบุท Enter ูุงุฎุชูุงุฑ ุงูุนููุงู ุงููุญุฏุฏ
4. ุชุญูู ูู ุฃู ุงูุชููู ูุนูู ุจุดูู ุตุญูุญ

### 3. **ุงุฎุชุจุงุฑ ุงูุชุฑููุฒ:**

1. ุงููุฑ ุนูู ุญูู ุงูุจุญุซ
2. ุชุญูู ูู ูุชุญ ุงููุงุฆูุฉ
3. ุงููุฑ ุฎุงุฑุฌ ุงูุญูู
4. ุชุญูู ูู ุฅุบูุงู ุงููุงุฆูุฉ ุจุนุฏ ุชุฃุฎูุฑ ูุตูุฑ

## ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ

ุจุนุฏ ุชุทุจูู ูุฐุง ุงูุฅุตูุงุญ ุงูููุงุฆู:

1. โ **ุงูููุฑ ูุฑุฉ ูุงุญุฏุฉ ูุงููุฉ** ูุงุฎุชูุงุฑ ุงูุนููุงู
2. โ **ูุง ุชูุฌุฏ ูุดุงูู ูู ุงูุชุฑููุฒ**
3. โ **ุงูุชููู ุจุงูููุจูุฑุฏ ูุนูู ุจุดูู ุตุญูุญ**
4. โ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุณุฉ ููุณุชูุฑุฉ**
5. โ **ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console**

## ููุงุญุธุงุช ุชูููุฉ

- ุงุณุชุฎุฏุงู `onMouseDown` ุจุฏูุงู ูู `onClick` ูุถูู ุฃู ุงูุญุฏุซ ูุญุฏุซ ูุจู `onBlur`
- `stopPropagation()` ูููุน ุงูุชุดุงุฑ ุงูุญุฏุซ ุฅูู ุงูุนูุงุตุฑ ุงูุฃุจ
- ุงูุชุฃุฎูุฑ ูู `onBlur` ูุณูุญ ุจููุช ูุงูู ูุงุฎุชูุงุฑ ุงูุนูุตุฑ
- ุฅุบูุงู ุงููุงุฆูุฉ ูุจู ุชุญุฏูุซ ุงููููุฉ ูููุน ูุดุงูู ุงูุชุฑููุฒ

## ุงูุฎูุงุตุฉ

ูุฐุง ุงูุฅุตูุงุญ ุงูููุงุฆู ูุญู ูุดููุฉ ุงูููุฑ ุงููุฒุฏูุฌ ุจุดูู ุฌุฐุฑู ูู ุฎูุงู:

- ุชุญุณูู ุชุฑุชูุจ ุงูุฃุญุฏุงุซ
- ูุนุงูุฌุฉ ุชุฏุงุฎู ุงูุชุฑููุฒ ูุงูููุฑ
- ุฅุถุงูุฉ ุชุฃุฎูุฑ ุฐูู ูุฅุบูุงู ุงููุงุฆูุฉ
- ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ

ุงูุขู `AddressAutocomplete` ูุนูู ุจุดูู ูุซุงูู ูุน ุงูููุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท! ๐
